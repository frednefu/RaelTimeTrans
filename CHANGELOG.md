# 更新日志

本文档记录了实时翻译软件的重要更新和改进。

## [1.3.0] - 2024-06-15

### 优化改进

- **音频处理架构重构**
  - 分离录音、识别和播放为三个独立线程
  - 使用队列实现高效的线程间数据传递
  - 减少线程间互相阻塞，提高响应性

- **音频延迟功能增强**
  - 重构延迟缓冲区管理逻辑
  - 添加预填充静音机制，确保延迟后音频连续播放
  - 优化空队列处理，避免播放中断

- **识别准确性提升**
  - 修复音频数据格式转换问题
  - 确保Whisper模型接收正确格式的音频数据
  - 增强音频信号质量评估

- **调试功能增强**
  - 添加详细的音频数据统计信息
  - 改进日志记录，便于问题追踪
  - 增加音频信号强度显示

### 修复问题

- 修复启用延迟功能后没有声音输出的问题
- 修复音频数据类型转换导致的识别错误问题
- 修复音频缓冲区管理不当导致的音频断续问题
- 修复资源清理不完全问题
- 增强错误处理和异常恢复机制

## [1.2.0] - 2025-05-21

### 新增功能

- **音频延迟功能**
  - 增加音频输出延迟设置（0-5000ms可调）
  - 支持实时调整延迟时间
  - 自动保存延迟设置到配置文件

- **业余无线电术语支持**
  - 添加专业术语库和管理功能
  - 呼号自动识别与保留
  - 信号报告格式化（如"five nine"→"59"）
  - 支持IARU音标字母表识别

### 优化改进

- **音频处理优化**
  - 重构音频处理逻辑，提高稳定性
  - 减少处理延迟，提升字幕实时性
  - 修复系统声音监听时的音频问题
  - 添加性能监控功能

- **资源管理**
  - 优化内存使用
  - 改进资源清理逻辑
  - 完善错误处理

- **文档更新**
  - 增加音频延迟功能文档
  - 更新业余无线电术语文档
  - 更新主要功能说明

### 修复问题

- 修复音频设备重复初始化问题
- 修复延迟功能未生效的问题
- 修复部分术语未被正确翻译的问题
- 修复字幕重叠问题
- 修复音频流异常关闭导致的错误

## [1.1.0] - 2025-04-15

### 新增功能

- 支持GPU加速
- 添加大型语言模型支持
- 增加字幕保存功能
- 添加配置文件管理

### 优化改进

- 提升翻译速度
- 改进UI响应性
- 优化音频设备选择逻辑

## [1.0.0] - 2025-03-01

### 初始功能

- 实时音频识别与翻译
- 支持多种语言
- 字幕显示与自定义
- 基本音频设备管理 