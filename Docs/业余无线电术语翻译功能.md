# 业余无线电术语翻译功能说明

## 功能概述

实时翻译应用增加了对业余无线电常用术语和呼号的识别与正确翻译功能。这些专业术语在普通翻译软件中往往无法得到准确翻译，本功能通过自定义术语库实现了对这些特殊用语的精确处理。

## 主要特性

1. **术语库翻译**：将业余无线电专业术语翻译为目标语言的专业解释
2. **呼号保留**：自动识别并保留电台呼号，不对其进行翻译
3. **信号报告格式化**：将常见信号报告格式（如"five nine"）转换为标准格式（"59"）
4. **IARU音标字母表支持**：识别并保留国际通用的无线电音标字母（Alpha, Bravo, Charlie等）

## 术语库

程序内置了业余无线电常用术语库，包括但不限于以下术语：

- CQ（通用呼叫）
- QRZ（谁在呼叫我）
- 73（最好的祝福）
- Roger（收到，明白）
- QTH（位置）
- QSO（通联）
- QSL（收到确认）
- QRM（人为干扰）
- QRN（自然干扰）
- QRP（低功率操作）

这些术语在翻译时会被替换为目标语言的对应说明，而不是字面翻译，以确保业余无线电通联交流的准确性。

## 呼号识别功能

系统能够自动识别以下格式的呼号：

1. **标准呼号格式**：如BG7YYK, K1JT, JA3YUA等
2. **带前缀或后缀的呼号**：如BG7YYK/M（移动台）, EA/K1JT（客席操作）
3. **使用音标字母拼出的呼号**：如"Bravo Golf Seven Yankee Yankee Kilo"会被识别为"BG7YYK"

识别到的呼号会在翻译过程中保持原样，确保通联信息的准确性。

## 信号报告格式化

系统会自动将英文描述的信号报告转换为数字格式：

- "five nine" → "59"
- "five by nine" → "59"
- "five nine plus" → "59+"
- "five and nine" → "59"

这确保了信号报告在翻译后仍然保持专业准确的表达方式。

## 术语库文件

术语库存储在JSON格式的文件中：

```
translation/resources/ham_radio_terms.json
```

该文件结构示例：

```json
{
    "CQ": {
        "zh-cn": "CQ（通用呼叫）",
        "en": "CQ (general call)",
        "ja": "CQ（一般呼び出し）",
        "ko": "CQ (일반 호출)",
        "description": "用于呼叫任何电台"
    },
    "QRZ": {
        "zh-cn": "QRZ（谁在呼叫我）",
        "en": "QRZ (who is calling me)",
        "ja": "QRZ（誰が私を呼んでいますか）",
        "ko": "QRZ (누가 저를 호출하고 있습니까)",
        "description": "询问谁在呼叫"
    }
}
```

## 如何添加新术语

您可以通过直接编辑术语库文件来添加新的术语。请按照以下格式添加：

```json
"术语": {
    "zh-cn": "中文翻译/解释",
    "en": "英语翻译/解释",
    "ja": "日语翻译/解释",
    "ko": "韩语翻译/解释",
    "description": "术语说明（可选）"
}
```

建议为每种支持的语言都提供对应的翻译。如果某种语言没有提供翻译，则会保留原术语不变。

## 编程接口

如果您是开发者，可以通过SubtitleManager类访问术语管理功能：

```python
# 获取术语管理器
term_manager = subtitle_manager.get_term_manager()

# 添加新术语
term_manager.add_term("术语", {
    "zh-cn": "中文翻译",
    "en": "英文翻译"
})

# 删除术语
term_manager.remove_term("术语")

# 直接翻译文本中的术语
translated_text = term_manager.translate_terms(text, target_lang_code)
```

## 使用示例

以下是一些实际的翻译示例：

| 原文 | 翻译结果（中文） |
|------|-----------------|
| CQ CQ this is BG7YYK calling | CQ（通用呼叫）CQ（通用呼叫）这里是 BG7YYK 呼叫 |
| Roger, your signal is five by nine | 收到，你的信号是59 |
| QRZ? This is Bravo Golf Seven Yankee Yankee Kilo | QRZ（谁在呼叫我）？这里是 BG7YYK |
| 73, best regards and hope to see you again | 73（最好的祝福），祝好，希望再次见到你 |

## 注意事项

1. 术语匹配是大小写不敏感的，所以无论输入"CQ"、"cq"还是"Cq"，都能被正确识别。
2. 术语必须作为独立的单词出现才会被翻译，避免误匹配单词的一部分。
3. 更改术语库文件后，需要重启应用程序才能生效。
4. 术语翻译会在Google翻译之后应用，以保证最佳的翻译效果。

## 未来改进计划

- 增加更多业余无线电专业术语
- 支持用户在UI界面直接添加和管理术语
- 支持导入/导出术语库
- 增加对更多国家/地区特定呼号格式的识别支持

如果您对改进该功能有任何建议，或者发现了需要添加的术语，请随时联系开发团队。 